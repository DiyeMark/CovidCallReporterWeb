<h1 mat-dialog-title>New Call Report</h1>
<div mat-dialog-content>
    <div class="row">
        <div class="col-sm-7">
            <div>
                <label>Person Information</label>
                <div class="row">
                    <div class="col-sm-7">
                        <div class="form-label-group">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Full Name" [(ngModel)]="new_call_report.full_name"
                                       name="full_name">
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-5">
                        <div class="form-label-group">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Phone (*)" [(ngModel)]="new_call_report.phone" name="phone">
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-label-group">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Suspected Person Phone" [(ngModel)]="new_call_report.second_phone" name="second_phone">
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="Gender" [(ngModel)]="new_call_report.gender" name="gender">
                                    <mat-option *ngFor="let gender of genders" [value]="gender">
                                        {{gender}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-label-group">
                            <div class="form-label-group">
                                <mat-form-field class="example-full-width">
                                    <input matInput placeholder="Age" [(ngModel)]="new_call_report.age" name="age">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
            </div>
            <div>
                <label>Location</label>
                <div class="row">
                    <div class="col-sm-7">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="Region (*)" [(ngModel)]="new_call_report.region_id"
                                            name="region_id" (selectionChange)="onRegionChanges($event)">
                                    <mat-option *ngFor="let region of regions" [value]="region.id">
                                        {{region.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-5">
                        <div class="form-label-group" *ngIf="new_call_report.region_id != 1 && new_call_report.region_id != 2">
                            <mat-form-field>
                                <mat-select placeholder="Zone" [(ngModel)]="new_call_report.zone_id" name="zone_id"
                                            (selectionChange)="onZoneChanges($event)">
                                    <mat-option *ngFor="let zone of zones" [value]="zone.id">
                                        {{zone.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-4">
                        <div class="form-label-group" *ngIf="new_call_report.region_id != 1 && new_call_report.region_id != 2">
                            <mat-form-field>
                                <mat-select placeholder="Wereda" [(ngModel)]="new_call_report.wereda_id"
                                            name="wereda_id"
                                            (selectionChange)="onWeredaChanges($event)">
                                    <mat-option *ngFor="let wereda of weredas" [value]="wereda.id">
                                        {{wereda.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-label-group" *ngIf="new_call_report.region_id != 1 && new_call_report.region_id != 2">
                            <mat-form-field>
                                <mat-select placeholder="City" [(ngModel)]="new_call_report.city_id" name="city_id"
                                            (selectionChange)="onCityChanges($event)">
                                    <mat-option *ngFor="let city of cities" [value]="city.id">
                                        {{city.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="SubCity" [(ngModel)]="new_call_report.sub_city_id"
                                            name="sub_city_id"
                                            (selectionChange)="onSubCityChanges($event)">
                                    <mat-option *ngFor="let subCity of subCities" [value]="subCity.id">
                                        {{subCity.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-label-group">
                            <div class="form-label-group">
                                <mat-form-field class="example-full-width">
                                    <input matInput placeholder="Address" [(ngModel)]="new_call_report.address" name="address">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-5">
            <div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-label-group">
                            <div class="form-label-group">
                                <mat-form-field>
                                    <mat-select placeholder="Called For (*)" [(ngModel)]="new_call_report.report_type"
                                                name="other">
                                        <mat-option *ngFor="let information of providedInfromation"
                                                    [value]="information">{{information}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-label-group">
                            <mat-form-field>
                                <mat-select placeholder="Symptoms" [(ngModel)]="new_call_report.rumor_types"
                                            name="other" multiple>
                                    <mat-option *ngFor="let rumorType of rummerTypes"
                                                [value]="rumorType">{{rumorType.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-label-group">
                            <section class="example-section">
                                <mat-checkbox class="example-margin" [(ngModel)]="new_call_report.is_travel_hx">
                                    Travel Hx
                                </mat-checkbox>
                            </section>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-label-group">
                            <section class="example-section">
                                <mat-checkbox class="example-margin" [(ngModel)]="new_call_report.is_contacted_with_pt">
                                    Contacted With Pt Having SSx
                                </mat-checkbox>
                            </section>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-label-group">
                            <section class="example-section">
                                <mat-checkbox class="example-margin" [(ngModel)]="new_call_report.is_visited_animal">
                                    Worked Or Contacted with animal market
                                </mat-checkbox>
                            </section>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-label-group">
                            <section class="example-section">
                                <mat-checkbox class="example-margin" [(ngModel)]="new_call_report.is_visited_hf">
                                    Worked Or Visited Health Facilities Where a Ds Cared
                                </mat-checkbox>
                            </section>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        <div class="form-label-group">
                            <mat-form-field class="example-full-width">
                                <textarea matInput type="text" placeholder="Description" rows="3"
                                          [(ngModel)]="new_call_report.description" name="description"></textarea>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <div class="form-label-group">
        <button [disabled]="isFormFilled()" mat-raised-button (click)="addNewCallReport()" class="btn btn-primary pull-right">Add Report</button>
        <button mat-raised-button (click)="cancel()" class="btn btn-default pull-left">Cancel</button>
    </div>
</div>
<div class="my-container">
    <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '0px' }"></ngx-loading>
</div>
